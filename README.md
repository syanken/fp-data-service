# FP-Data-Service

è½»é‡çº§è‚¡ç¥¨ K çº¿æ•°æ®æœåŠ¡ï¼ˆFastAPI + Pythonï¼‰ï¼Œæ”¯æŒæ—¥çº¿ / å‘¨çº¿ / æœˆçº¿å¤æƒè¡Œæƒ…ï¼Œæœ¬åœ°ç¼“å­˜ CSVï¼Œæ¥å£ç®€æ´ï¼Œå³å¯å³ç”¨ã€‚

---

## âœ¨ ç‰¹æ€§

- æ—¥çº¿ã€å‘¨çº¿ã€æœˆçº¿ã€å¹´å¤æƒè¡Œæƒ…ï¼ˆå‰å¤æƒ / åå¤æƒ / ä¸å¤æƒï¼‰
- è‡ªåŠ¨è½ç›˜åˆ°æœ¬åœ° `data/{type}/{code}.csv`ï¼ŒäºŒæ¬¡è¯·æ±‚ç›´æ¥è¯»æ–‡ä»¶ï¼Œæé€Ÿçœæµé‡
- å¢é‡æ›´æ–°ï¼šåªæ‹‰å–æœ¬åœ°ç¼ºå¤±çš„æœ€æ–°æ—¥æœŸ
- RESTful æ¥å£ï¼Œè‡ªå¸¦ OpenAPI æ–‡æ¡£ï¼ˆ/docsï¼‰
- Docker ä¸€é”®æ‰“åŒ…ï¼Œæ”¯æŒ `docker-compose` å¿«é€Ÿéƒ¨ç½²



## ğŸš€ å¿«é€Ÿå¼€å§‹

1. å…‹éš†ä»“åº“

git clone https://github.com/syanken/fp-data-service.git
cd fp-data-service

ğŸ“¡ æ ¸å¿ƒæ¥å£

| æ–¹æ³•  | è·¯å¾„               | è¯´æ˜        | query ç¤ºä¾‹                     |
|-----|------------------|-----------|------------------------------|
| GET | /api/all-list    | è·å–å…¨å¸‚åœºè‚¡ç¥¨åˆ—è¡¨ | â€”                            |
| GET | /api/kline       | å•åªè‚¡ç¥¨ K çº¿  | stock_code=sz000001&type=day |
| GET | /api/all_history | æŒ‡å®šåŒºé—´/å¤æƒå†å² | è§ä¸‹è¡¨                          |

/api/all_history å‚æ•°

| å­—æ®µ         | ç±»å‹     | å¿…å¡« | æè¿°                                |
|------------|--------|----|-----------------------------------|
| stock_code | string | âœ“  | è‚¡ç¥¨ä»£ç ï¼Œå¦‚ 000001                     |
| type       | string | âœ˜  | day, week,month ,yearï¼Œé»˜è®¤ day      |
| adjust     | string | âœ˜  | qfq(å‰å¤æƒ),hfq(åå¤æƒ),raw(ä¸å¤æƒ)ï¼Œé»˜è®¤ qfq |
| start      | string | âœ˜  | å¼€å§‹æ—¥æœŸ yyyy-MM-ddï¼Œç•™ç©ºè¡¨ç¤ºæœ€æ—©            |
| end        | string | âœ˜  | ç»“æŸæ—¥æœŸ yyyy-MM-ddï¼Œç•™ç©ºè¡¨ç¤ºæœ€æ–°            |
| length     | int    | âœ˜  | æœ€å¤šè¿”å›æ¡æ•°ï¼Œé»˜è®¤ 800ï¼Œä¸Šé™ 2000             |

è¿”å›ç¤ºä¾‹
```json
{
  "stock_code": "000001",
  "adjust": "qfq",
  "data": [
    ["2023-01-03", 14.68, 14.99, 15.20, 14.50, 1234567],
    ...
  ]
}

## æ•°æ®æ¥æº

- è‚¡ç¥¨æ•°æ®ï¼š[Tushare](https://tushare.pro/)
- å…¨å¸‚åœºè‚¡ç¥¨åˆ—è¡¨ï¼š[å…¨å¸‚åœºè‚¡ç¥¨åˆ—è¡¨](https://www.sse.com.cn/assortment/stock/list/share/)
